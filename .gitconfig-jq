# You need to enable this configuration once after checking out the repo 
# for the first time (assuming you checked it out into fastai_v1 dir):
#
# cd fastai_v1
# git config --local include.path '../.gitconfig'
#
# to let the system decide which of the 2 config files to use
# (i.e. whether you have jq installed or not) use:
#
# git config --local include.path '../.gitconfig'$(if command -v jq >/dev/null 2>&1; then echo -n -jq; fi);
#
# If you need to disable this instrumentation do:
#
# git config --local --unset include.path
#
# You can always check .git/config to see whether a ../.gitconfig-jq
# include entry is there or not.
#
# If tools/fastai-nbstripout-jq is modified to produce a different output, 
# manually rerun all the notebooks under git:
# 
# tools/fastai-nbstripout-jq dev_nb/*ipynb dev_nb/experiments/*ipynb
# tools/fastai-nbstripout-jq -d docs/*ipynb
# # disable the strip out filter to get git to see changes
# git config --local --unset include.path
# git commit -a
# git push
# # restore the filter
# git config --local include.path '../.gitconfig-jq'
#

# code notebooks strip out
[filter "fastai-nbstripout-code"]
        clean = tools/fastai-nbstripout-jq
        smudge = cat
        required = true
[diff "ipynb-code"]
        textconv = tools/fastai-nbstripout-jq -t

# docs notebooks strip out
[filter "fastai-nbstripout-docs"]
        clean = tools/fastai-nbstripout-jq -d
        smudge = cat
        required = true
[diff "ipynb-docs"]
        textconv = tools/fastai-nbstripout-jq -dt
