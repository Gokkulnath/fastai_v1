---
title: callbacks.general_sched
keywords: 
sidebar: home_sidebar
tags: 
summary: 
---

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="callbacks.general_sched">callbacks.general_sched<a class="anchor-link" href="#callbacks.general_sched">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Creates a scheduler that lets you train a model with following different <code>TrainingPhase</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2><a id=TrainingPhase></a><code>class</code> <code>TrainingPhase</code></h2>
<blockquote><p><code>TrainingPhase</code>(<code>length</code>:<code>int</code>, <code>lrs</code>:<code>Floats</code>, <code>moms</code>:<code>Floats</code>, <code>lr_anneal</code>:<code>AnnealFunc</code>=<code>None</code>, <code>mom_anneal</code>:<code>AnnealFunc</code>=<code>None</code>)
<a href="https://github.com/fastai/fastai_pytorch/blob/master/fastai/callbacks/general_sched.py#L8">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a phase for training a model during <code>length</code> iterations, following a schedule given by <code>lrs</code> and <code>lr_anneal</code>, <code>moms</code> and <code>mom_anneal</code>. More specifically, the phase will make the learning rate (or momentum) vary from the first value of <code>lrs</code> (or <code>moms</code>) to the second, following <code>lr_anneal</code> (or <code>mom_anneal</code>). If an annealing function is speficied but <code>lrs</code> or <code>moms</code> is a float, it will decay to 0. If no annealing function is specified, the default is a linear annealing if <code>lrs</code> (or <code>moms</code>) is a tuple, a constant parameter if it's a float.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2><a id=GeneralScheduler></a><code>class</code> <code>GeneralScheduler</code></h2>
<blockquote><p><code>GeneralScheduler</code>(<code>learn</code>:<a href="/basic_train.html#Learner"><code>Learner</code></a>, <code>phases</code>:<code>Collection</code>[<a href="/callbacks.general_sched.html#TrainingPhase"><code>TrainingPhase</code></a>]) :: <a href="/callback.html#Callback"><code>Callback</code></a></p>
</blockquote>
<p>Schedule multiple <a href="/callbacks.general_sched.html#TrainingPhase"><code>TrainingPhase</code></a> for a <a href="/basic_train.html#Learner"><code>Learner</code></a> <a href="https://github.com/fastai/fastai_pytorch/blob/master/fastai/callbacks/general_sched.py#L21">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=on_batch_end></a><code>on_batch_end</code></h4>
<blockquote><p><code>on_batch_end</code>(<code>kwargs</code>:<code>Any</code>)
<a href="https://github.com/fastai/fastai_pytorch/blob/master/fastai/callbacks/general_sched.py#L34">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Takes a step in the current phase and prepare the hyperparameters for the next batch.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=on_train_begin></a><code>on_train_begin</code></h4>
<blockquote><p><code>on_train_begin</code>(<code>n_epochs</code>:<code>int</code>, <code>kwargs</code>:<code>Any</code>)
<a href="https://github.com/fastai/fastai_pytorch/blob/master/fastai/callbacks/general_sched.py#L26">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Initiates the hyperparameters to the start values of the first phase.</p>

</div>
</div>
</div>
</div>
 

